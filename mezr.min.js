/*!
 * mezr v1.0.0-dev
 * https://github.com/niklasramo/mezr
 * Copyright (c) 2016 Niklas Rämö <inramo@gmail.com>
 * Released under the MIT license
 */
!function(t,e){"object"==typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd?define([],e):t.mezr=e()}(void 0!==window?window:this,function(){"use strict";function t(t,e){return e=e&&P[e]||4,x("width",t,e>1,e>2,e>3,e>4)}function e(t,e){return e=e&&P[e]||4,x("height",t,e>1,e>2,e>3,e>4)}function o(t,e){var o,n,r,i;return Array.isArray(t)||e&&"string"!=typeof e?(o=[].concat(t),n=[].concat(e),r=u(t)?t:O(o[0],o[1]),i=u(e)?e:O(n[0],n[1]),{left:r.left-i.left,top:r.top-i.top}):O(t,e)}function n(t,e){var o,n,r,i;return Array.isArray(t)||e&&"string"!=typeof e?(o=[].concat(t),n=[].concat(e),r=u(t)?t:j(o[0],o[1]),i=u(e)?e:O(n[0],n[1]),r.left=r.left-i.left,r.top=r.top-i.top,r):j(t,e)}function r(t,e){var o,n,r,i,f;if(t===T)return null;if(t===B)return T;var l=e||s(t,"position");if("relative"===l)return t;if("fixed"===l||"absolute"===l){if("fixed"===l&&a())return B;if(o=t===L?T:t.parentElement||null,"fixed"===l){for(;o&&o!==T&&!d(o);)o=o.parentElement||T;return o===T?B:o}for(;o&&o!==T&&"static"===s(o,"position")&&!d(o);)o=o.parentElement||T;return o}if("sticky"===l||"-webkit-sticky"===l){for(n=["overflow","overflow-y","overflow-x"],r=t.parentNode,t=null;!t&&r&&r!==T;){for(f=0;f<3;f++)if("auto"===(i=s(r,n[f]))||"scroll"===i){t=r;break}t||(r=r.parentNode)}return t||B}return null}function i(t,e){var o=C(t),n=C(e);return y(o,n)?-1:w(o,n)}function f(){var t,e=y(arguments[0],arguments[1]);if(arguments.length>2)for(t=2;t<arguments.length&&(e=y(e,arguments[t]));++t);return e}function l(t,e){var o=m(t,e);return{left:-o.left,right:-o.right,top:-o.top,bottom:-o.bottom}}function p(t,e,o){var n,r,i,f={},l=C(t,!0),a=C(e),d=h([p.defaultOptions,o||{}]),s="string"==typeof d.position?d.position.split(" "):d.position,g=u(d.contain),b=g&&d.contain.within,y=g&&E(d.contain.onOverflow),v=0,w=0,x=d.offsetX,j=d.offsetY;return x="string"==typeof x&&x.indexOf("%")>-1?c(x)/100*l.width:c(x),j="string"==typeof j&&j.indexOf("%")>-1?c(j)/100*l.height:c(j),f.left=M(s[0],s[2],a.width,a.left,l.width,l.left,x),f.top=M(s[1],s[3],a.height,a.top,l.height,l.top,j),l.left+=f.left,l.top+=f.top,b&&y&&(n=C(b),r=m(l,n),(r.left<0||r.right<0)&&(v=A(y,r),f.left+=v),(r.top<0||r.bottom<0)&&(w=A(y,r,1),f.top+=w)),"function"==typeof d.adjust&&(0!==v&&(l.left+=v,l.right=l.left+l.width),0!==w&&(l.top+=w,l.bottom=l.left+l.width),n=b?n||C(b):null,i=u(t)?t:O.apply(null,[].concat(t)),r=n?m(l,n):null,d.adjust(f,{elementRect:l,targetRect:a,containerRect:n,shift:{left:l.left-i.left,top:l.top-i.top},overflow:r?{left:-r.left,right:-r.right,top:-r.top,bottom:-r.bottom}:null,overflowCorrection:{left:v,top:w}})),f}function u(t){return"object"==typeof t&&"[object Object]"===Object.prototype.toString.call(t)}function a(){var t,e,o,n;return void 0!==R?R:W?(t=T.createElement("div"),e=T.createElement("div"),b(t,{display:"block",visibility:"hidden",position:"absolute",left:"1px"}),b(e,{display:"block",visibility:"hidden",position:"fixed",left:"0px"}),t.style[W.propName]="",e.style[W.propName]="",t.appendChild(e),T.body.appendChild(t),o=e.getBoundingClientRect().left,t.style[W.propName]="scale(1)",n=e.getBoundingClientRect().left,T.body.removeChild(t),R=n===o):R=!0}function d(t){var e=s(t,"display");return"none"!==s(t,W.styleName)&&"inline"!==e&&"none"!==e}function c(t){return parseFloat(t)||0}function h(t){var e,o,n,r={},i=t.length;for(n=0;n<i;n++)for(e in t[n])t[n].hasOwnProperty(e)&&(o=t[n][e],r[e]=u(o)?h([o]):Array.isArray(o)?o.slice():o);return r}function s(t,e){return B.getComputedStyle(t,null).getPropertyValue(e)}function g(t,e){return c(s(t,e))}function b(t,e){Object.keys(e).forEach(function(o){t.style[o]=e[o]})}function m(t,e){var o=C(t),n=C(e);return{left:o.left-n.left,right:n.left+n.width-(o.left+o.width),top:o.top-n.top,bottom:n.top+n.height-(o.top+o.height)}}function y(t,e){var o={},n=C(t),r=C(e),i=m(n,r),f=Y(n.width+z(i.left,0)+z(i.right,0),0),l=Y(n.height+z(i.top,0)+z(i.bottom,0),0),p=f>0&&l>0;return p&&(o.width=f,o.height=l,o.left=n.left+X(z(i.left,0)),o.top=n.top+X(z(i.top,0)),o.right=o.left+o.width,o.bottom=o.top+o.height),p?o:null}function v(t,e,o,n){return Math.sqrt(Math.pow(o-t,2)+Math.pow(n-e,2))}function w(t,e){var o=t.left,n=o+t.width,r=t.top,i=r+t.height,f=e.left,l=f+e.width,p=e.top,u=p+e.height;return(f>n||l<o)&&(p>i||u<r)?f>n?u<r?v(n,r,f,u):v(n,i,f,p):u<r?v(o,r,l,u):v(o,i,l,p):u<r?r-u:f>n?f-n:p>i?p-i:o-l}function x(t,e,o,n,r,i){var f,l,p,u,a,d,c,h="height"===t,b=h?"Height":"Width",m="inner"+b,y="client"+b,v="scroll"+b,w=0;return e.self===B.self?f=n?B[m]:L[y]:e===T?n?(w=B[m]-L[y],f=Y(L[v]+w,T.body[v]+w,B[m])):f=Y(L[v],T.body[v],L[y]):(l=h?"top":"left",p=h?"bottom":"right",f=(N||e.getBoundingClientRect())[t],n||(e===L?w=B[m]-L[y]:S.indexOf(s(e,"display"))<0&&(u=g(e,"border-"+l+"-width"),a=g(e,"border-"+p+"-width"),w=Math.round(f)-(e[y]+u+a)),f-=w>0?w:0),o||(f-=g(e,"padding-"+l),f-=g(e,"padding-"+p)),r||(f-=void 0!==u?u:g(e,"border-"+l+"-width"),f-=void 0!==a?a:g(e,"border-"+p+"-width")),i&&(d=g(e,"margin-"+l),c=g(e,"margin-"+p),f+=d>0?d:0,f+=c>0?c:0)),f>0?f:0}function O(t,e){var o,n,r,i={left:0,top:0};return t===T?i:(i.left=B.pageXOffset||0,i.top=B.pageYOffset||0,t.self===B.self?i:(o=N||t.getBoundingClientRect(),i.left+=o.left,i.top+=o.top,e=e&&P[e]||4,5===e&&(n=g(t,"margin-left"),r=g(t,"margin-top"),i.left-=n>0?n:0,i.top-=r>0?r:0),e<4&&(i.left+=g(t,"border-left-width"),i.top+=g(t,"border-top-width")),1===e&&(i.left+=g(t,"padding-left"),i.top+=g(t,"padding-top")),i))}function C(t,e){return t?u(t)?t:(t=[].concat(t),j(t[0],t[1],e)):null}function j(o,n,r){var i,f=o!==T&&o.self!==B.self;return n=n||"border",r&&(i=k(o,n)),f&&(N=o.getBoundingClientRect()),r||(i=O(o,n)),i.width=t(o,n),i.height=e(o,n),i.bottom=i.top+i.height,i.right=i.left+i.width,f&&(N=null),i}function k(t,e){var o,n,i,f,l,p,u,a;return e=e||"border",t===B||t===T?O(t,e):(o=s(t,"position"),n="absolute"===o||"fixed"===o?O(r(t)||T,"padding"):O(t,e),"relative"===o?(i=s(t,"left"),f=s(t,"right"),l=s(t,"top"),p=s(t,"bottom"),"auto"===i&&"auto"===f||(n.left-="auto"===i?-c(f):c(i)),"auto"===l&&"auto"===p||(n.top-="auto"===l?-c(p):c(l))):"absolute"!==o&&"fixed"!==o||(e=P[e],u=g(t,"margin-left"),a=g(t,"margin-top"),5===e&&(n.left-=X(z(u,0)),n.top-=X(z(a,0))),e<5&&(n.left+=u,n.top+=a),e<4&&(n.left+=g(t,"border-left-width"),n.top+=g(t,"border-top-width")),1===e&&(n.left+=g(t,"padding-left"),n.top+=g(t,"padding-top"))),n)}function M(t,e,o,n,r,i,f){var l=t.charAt(0)+e.charAt(0),p=n+f-i;return"ll"===l||"tt"===l?p:"lc"===l||"tc"===l?p+o/2:"lr"===l||"tb"===l?p+o:"cl"===l||"ct"===l?p-r/2:"cr"===l||"cb"===l?p+o-r/2:"rl"===l||"bt"===l?p-r:"rc"===l||"bc"===l?p-r+o/2:"rr"===l||"bb"===l?p-r+o:p+o/2-r/2}function A(t,e,o){var n=0,r=o?"top":"left",i=o?"bottom":"right",f=t[r],l=t[i],p=e[r],u=e[i],a=p+u;return"push"!==f&&"forcepush"!==f||"push"!==l&&"forcepush"!==l||!(p<0||u<0)?("forcepush"===f||"push"===f)&&p<0?n-=p:("forcepush"===l||"push"===l)&&u<0&&(n+=u):(p<u&&(n-=a<0?p+X(a/2):p),u<p&&(n+=a<0?u+X(a/2):u),p+=n,u-=n,"forcepush"===f&&"forcepush"!==l&&p<0&&(n-=p),"forcepush"===l&&"forcepush"!==f&&u<0&&(n+=u)),n}function E(t){var e=typeof t,o="none",n="none",r="none",i="none";return"string"===e?o=n=r=i=t:"object"===e&&(o=t.left||t.x||o,n=t.right||t.x||n,r=t.top||t.y||r,i=t.bottom||t.y||i),"none"!==o||"none"!==n||"none"!==r||"none"!==i?{left:o,right:n,top:r,bottom:i}:null}var N,R,B=window,T=B.document,L=T.documentElement,X=Math.abs,Y=Math.max,z=Math.min,P={content:1,padding:2,scroll:3,border:4,margin:5},S=["inline","table-column","table-column-group"],W=function(){var t,e,o,n=["transform","WebkitTransform","MozTransform","OTransform","msTransform"];for(t=0;t<n.length;t++)if(void 0!==L.style[n[t]])return e=n[t],o=e.toLowerCase().split("transform")[0],{prefix:o,propName:e,styleName:o?"-"+o+"-transform":e};return null}();return T.body?a():T.addEventListener("DOMContentLoaded",a),p.defaultOptions={position:"left top left top",offsetX:0,offsetY:0,contain:null,adjust:null},{width:t,height:e,offset:o,rect:n,containingBlock:r,distance:i,intersection:f,overflow:l,place:p}});